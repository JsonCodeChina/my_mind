# .shared/ - å…±äº«å·¥å…·å’Œé…ç½®

è¿™ä¸ªç›®å½•åŒ…å« Mind é¡¹ç›®çš„å…±äº«å·¥å…·ã€é…ç½®å’Œè„šæœ¬ã€‚

---

## ğŸ“ ç›®å½•ç»“æ„

```
.shared/
â”œâ”€â”€ config.yaml           # å…¨å±€é…ç½®æ–‡ä»¶
â”œâ”€â”€ logger.py             # ç»Ÿä¸€æ—¥å¿—å·¥å…·
â”œâ”€â”€ scheduler.sh          # è‡ªåŠ¨åŒ–è°ƒåº¦è„šæœ¬
â”œâ”€â”€ crontab.example       # crontab é…ç½®ç¤ºä¾‹
â”œâ”€â”€ quality_check.py      # æŠ¥å‘Šè´¨é‡æ£€æŸ¥å·¥å…·
â”œâ”€â”€ backup.sh             # æ•°æ®åº“å¤‡ä»½è„šæœ¬
â”œâ”€â”€ logs/                 # æ—¥å¿—ç›®å½•
â”œâ”€â”€ backups/              # å¤‡ä»½ç›®å½•
â””â”€â”€ README.md             # æœ¬æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®å…¨å±€å‚æ•°
ç¼–è¾‘ `config.yaml`:
```yaml
ccnews:
  github:
    repo: "anthropics/claude-code"
    lookback_days: 3
```

### 2. ä½¿ç”¨æ—¥å¿—å·¥å…·
```python
from .shared.logger import get_logger

logger = get_logger('ccnews')
logger.info("å¼€å§‹æ‰§è¡Œ")
```

### 3. è‡ªåŠ¨åŒ–è°ƒåº¦
```bash
# æ‰‹åŠ¨è¿è¡Œ
./scheduler.sh ccnews  # ç”Ÿæˆ CC æ—¥æŠ¥
./scheduler.sh ainews  # ç”Ÿæˆ AI æŠ¥å‘Š
./scheduler.sh both    # ç”Ÿæˆä¸¤ä¸ªæŠ¥å‘Š

# è®¾ç½®å®šæ—¶ä»»åŠ¡
crontab crontab.example
```

### 4. è´¨é‡æ£€æŸ¥
```bash
python quality_check.py ../cc/2025-10-18/index.md ccnews
```

### 5. æ•°æ®åº“å¤‡ä»½
```bash
./backup.sh
```

---

## ğŸ› ï¸ å·¥å…·è¯´æ˜

### config.yaml
- **ç”¨é€”**: ç»Ÿä¸€é…ç½®ç®¡ç†
- **ä¼˜åŠ¿**: æ¶ˆé™¤ç¡¬ç¼–ç ï¼Œä¾¿äºç»´æŠ¤
- **ä¿®æ”¹**: ç›´æ¥ç¼–è¾‘ YAML æ–‡ä»¶

### logger.py
- **åŠŸèƒ½**: åˆ†çº§æ—¥å¿—ã€æ–‡ä»¶è½®è½¬
- **æ—¥å¿—ä½ç½®**: `{module}/.meta/logs/`
- **è½®è½¬ç­–ç•¥**: 5MBï¼Œä¿ç•™ 5 ä¸ªå¤‡ä»½

### scheduler.sh
- **åŠŸèƒ½**: è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆã€æ¸…ç†
- **æ¨¡å¼**:
  - `ccnews` - ä»… CC æ—¥æŠ¥
  - `ainews` - ä»… AI æŠ¥å‘Š
  - `both` - ä¸¤ä¸ªéƒ½ç”Ÿæˆ
  - `cleanup` - æ¸…ç†æ—§æŠ¥å‘Š

### quality_check.py
- **æ£€æŸ¥é¡¹**:
  - è¡Œæ•°ï¼ˆ80-120ï¼‰
  - å¿…éœ€ç« èŠ‚
  - æ•°æ®æ¥æº
  - è¯„è®ºå¼•ç”¨ï¼ˆccnewsï¼‰
  - å…ƒæ•°æ®

### backup.sh
- **å¤‡ä»½**: ccnews.db
- **å‹ç¼©**: 7 å¤©å
- **åˆ é™¤**: 30 å¤©å

---

## ğŸ“ æœ€ä½³å®è·µ

1. **æ—¥å¿—**: æ‰€æœ‰è„šæœ¬ç»Ÿä¸€ä½¿ç”¨ `logger.py`
2. **é…ç½®**: ä» `config.yaml` è¯»å–å‚æ•°
3. **è°ƒåº¦**: é€šè¿‡ `scheduler.sh` ç»Ÿä¸€è°ƒåº¦
4. **è´¨é‡**: æ¯æ¬¡ç”Ÿæˆåè¿è¡Œè´¨é‡æ£€æŸ¥
5. **å¤‡ä»½**: æ¯æ—¥è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“

---

## ğŸ”§ ç»´æŠ¤

### æŸ¥çœ‹æ—¥å¿—
```bash
tail -f logs/scheduler.log
tail -f ../cc/.meta/logs/ccnews.log
```

### æŸ¥çœ‹å¤‡ä»½
```bash
ls -lh backups/
```

### æ‰‹åŠ¨æ¸…ç†
```bash
./scheduler.sh cleanup
```

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹:
- é¡¹ç›®ä¸» README: `../README.md`
- ä¼˜åŒ–æ–‡æ¡£: `../OPTIMIZATION.md`
- CC æ¨¡å—æ–‡æ¡£: `../cc/README.md`
- AI æ¨¡å—æ–‡æ¡£: `../ainews/README.md`
